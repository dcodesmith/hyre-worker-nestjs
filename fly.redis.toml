# Fly.io configuration for native Redis
# Deploy with: flyctl deploy --config fly.redis.toml

app = 'hyre-worker-nestjs-redis'
primary_region = 'lhr'

[build]
  image = 'redis:7-alpine'

[env]
  # Bind to fly-local-6pn (private IPv6) only - no public exposure
  REDIS_ARGS = '--appendonly yes --dir /data --bind fly-local-6pn'

[mounts]
  source = 'redis_data'
  destination = '/data'

[[vm]]
  memory = '512mb'
  cpu_kind = 'shared'
  cpus = 1
